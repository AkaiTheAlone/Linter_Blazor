@page "/"
@using Linter.Dados.Contexto
@using Microsoft.EntityFrameworkCore
@rendermode InteractiveServer
@inject AuthenticationStateProvider state
@* @implements IAsyncDisposable vai entender*@


<script defer src="/js/scripts.js"></script>

<PageTitle> Institucional </PageTitle>

<style>
    .btn-animated {
        background: transparent;
        color: #0078d4;
        border: 2px solid #0078d4;
        padding: 12px 24px;
        font-size: 16px;
        cursor: pointer;
        border-radius: 6px;
        position: relative;
        transition: all 1s ease-in-out;
        box-shadow: 8px 8px 4px 1px;
    }

        .btn-animated:hover {
            background-color: #b0d6eb;
            color: black;
            border: 2px solid #0078d4;
            padding: 12px 24px;
            font-size: 16px;
            cursor: pointer;
            border-radius: 6px;
            position: relative;
            transition: all 0.5s ease-in-out;
            /* offset-x | offset-y | blur-radius | spread-radius | color */
            box-shadow: 12px 12px 4px 1px rgba(0, 0, 255, .1);
        }

    .btn-bordered:hover {
        background: #0078d4;
        color: white;
    }

    .header {
        background: #0078d4;
        color: white;
        padding: 16px;
        text-align: center;
        font-size: 24px;
        font-weight: bold;
    }

    .hero {
        color: white;
        text-align: center;
        /*em cima // esquerda e direita // pra baixo  */
        padding: 100px 20px 100px;
    }

        .hero h1 {
            font-size: 48px;
            margin-bottom: 10px;
            color: black;
        }

        .hero p {
            font-size: 20px;
            margin-bottom: 20px;
            color: black;
        }

        .hero .btn {
            background: #fff;
            color: #0078d4;
            padding: 12px 24px;
            border: none;
            font-size: 18px;
            cursor: pointer;
            border-radius: 5px;
        }

    .section {
        padding: 50px 20px;
        text-align: center;
        background: white;
        margin: 20px;
        border-radius: 10px;
        box-shadow: 2px 5px 10px rgba(0,0,0,0.7);
    }

        .section h2 {
            color: #0078d4;
            font-size: 32px;
        }

    .atras {
        display: flex;
        justify-content: center;
        gap: 20px;
        flex-wrap: wrap;
    }

    .feature {
        background: #f3f3f3;
        padding: 20px;
        border-radius: 10px;
        width: 250px;
        text-align: center;
    }

        .feature i {
            font-size: 50px;
            color: #0078d4;
        }

    .footer {
        background: #333;
        color: white;
        text-align: center;
        padding: 20px;
        margin-top: 30px;
    }


    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    .TESTE {
        display: flex;
        height: 100vh;
        background-color: #f0f0f0; /* Cor do fundo da tela */
    }

    .right {
        flex: 1;
        background-color: #ffffff; /* Cor do bloco */
        border-top-left-radius: 50px;
        border-bottom-left-radius: 50px;
        box-shadow: -5px 0px 10px rgba(0, 0, 0, 0.2);
    }


    .container {
        display: flex;
        width: 100vw;
        height: 100vh;
    }

    .left {
        flex: 1;
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 20px;
    }

    .text-box {
        max-width: 500px;
        text-align: justify;
    }

    h2 {
        text-align: center;
        font-size: 2rem;
        margin-bottom: 10px;
    }

    p {
        font-size: 1.2rem;
    }

    .right {
        flex: 1;
        background-image: url('/recursos/imagens/reuniao.jpg');
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
        border-top-left-radius: 50px;
        border-bottom-left-radius: 50px;
        box-shadow: -5px 0px 10px rgba(0, 0, 0, 0.2);
        position: relative;
        opacity: 0;
        transition: opacity 2s ease-in-out;
    }

        .right::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            border-top-left-radius: 50px;
            border-bottom-left-radius: 50px;
        }

    .fade-in {
        animation: fadeIn 1s forwards;
    }


    .image {
        max-width: 90%;
        max-height: 90%;
    }

    .text {
        font-size: 24px;
        color: #333;
        text-align: center;
    }

    /* testes do js */
    section {
        display: grid;
        place-items: center;
    }

    .hidden {
        opacity: 0;
        filter: blur(5px);
        transition: all 1s;
        transform: translateX(-100%);
    }

    .hidden-left {
        opacity: 0;
        filter: blur(5px);
        transition: all 1s;
        transform: translateX(150%);
    }

    .show {
        opacity: 1;
        filter: blur(0);
        transform: translateX(0);
    }

    .hidden-lower {
        opacity: 0;
        filter: blur(5px);
        transition: all 1s;
        transform: translateY(-100%);
    }

    .counter {
    }

    .square {
    }
</style>

@* daria pra fazer um svg com o logotipo do linter aqui

a primeira parte pode vir da direita, a segunda da esquerda,
a terceira, q vai ter os números, pode subir e crescer exponencialmente
*@

<div class="hero hidden">
    <h1 class="linterTexto" style="font-size:100px; padding:3rem"> Linter </h1>
    <h1>Gerencie suas movimentações com eficiência</h1>
    <p>Simplifique a gestão de transações e tenha controle total</p>
    <button class="btn-animated" onclick="@(() => Navegar())"> Comece agora </button>
</div>

<section style="padding-bottom:6rem;">
    <h2 style="color:black" class="hidden-left"> Principais Recursos </h2>
    <div class="atras">
        <FluentCard class="feature hidden-left">
            <i class="ms-Icon ms-Icon--Money" aria-hidden="true"></i>
            <h3>Controle Financeiro</h3>
            <p>Acompanhe suas receitas e despesas de forma clara.</p>
        </FluentCard>

        <FluentCard class="feature hidden-left">
            <i class="ms-Icon ms-Icon--Chart" aria-hidden="true"></i>
            <h3>Relatórios Detalhados</h3>
            <p>Gere relatórios completos para análise estratégica.</p>
        </FluentCard>

        <FluentCard class="feature hidden-left">
            <i class="ms-Icon ms-Icon--Shield" aria-hidden="true"></i>
            <h3>Segurança Garantida</h3>
            <p>Seus dados protegidos com criptografia avançada.</p>
        </FluentCard>
    </div>
</section>
<br />

<div class="container ">
    <div class="left hidden">
        <div class="text-box">
            <h3> Confiança e praticidade em um só lugar</h3>
            <div>
                O <strong>Linter</strong> é a solução ideal para empresas que buscam controle financeiro eficiente e descomplicado.
                Com uma interface intuitiva e ferramentas avançadas, garantimos um sistema confiável e com alto desempenho que
                que contribui às empresas a organizarem suas finanças,
                gerenciarem receitas e despesas e tomarem decisões estratégicas com segurança.
            </div>
        </div>
    </div>
    <div class="right fade-in hidden-left"></div>
</div>

<br />

@* dessa parte pra baixo pode vir td de baixo ja *@

<section>
    <h2 style="color:black" class="hidden-left"> Principais Recursos </h2>
    <div class="atras">

        @* aqui da pra colocar as estatisticas *@

        <FluentCard class="feature hidden-left">
            <i class="ms-Icon ms-Icon--Money" aria-hidden="true"></i>
            <h3 class="counter" data-count="93">0</h3> %
            <p>Acompanhe suas receitas e despesas de forma clara.</p>
        </FluentCard>

        <FluentCard class="feature hidden-left">
            <i class="ms-Icon ms-Icon--Chart" aria-hidden="true"></i>
            <h3 class="counter" data-count="50">0</h3>
            <p>Empresas parceiras que migraram para o Linter.</p>
        </FluentCard>

        <FluentCard class="feature hidden-left">
            <i class="ms-Icon ms-Icon--Shield" aria-hidden="true"></i>
            <h3 class="73" data-count="50">0</h3> %
            <p>de crescimento em média por empresa após o adoção do Linter.</p>
        </FluentCard>
    </div>
</section>

<br />
<div>
    <FluentCard>
        <h1 class="hidden"> Conheça a nossa empresa </h1>
        <div style="display: flex; align-items: center; gap: 20px;">
            <img src="/imagens/ldn_grande.png" />
            <p style="text-align: justify;">
                Criada em 2009 pela iniciativa empreendedora dos seus 3 sócios trazendo uma grande experiência na área de desenvolvimento e suporte à sistemas informatizados de gestão empresarial.
                Hoje a LDN Softwares atende a diversos mercados com seus diversos produtos, visando atingir a todos os ramos de negócios como Industrias, comércios, serviços e agronegócio.
            </p>
        </div>
    </FluentCard>
</div>
<br />
<br />
<br />

@code {
    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        await runtime.InvokeVoidAsync("eval", @"
                let contadorAnimado = false;

                function animarContador() {
                    const contadorElement = document.getElementById('contador');
                    const position = contadorElement.getBoundingClientRect().top;
                    const windowHeight = window.innerHeight;

                    if (position < windowHeight && !contadorAnimado) {
                        contadorAnimado = true;
                        let start = 0;
                        const end = 1000;
                        const duration = 3;

                        const step = (timestamp) => {
                            if (!start) start = timestamp;
                            const progress = timestamp - start;
                            const value = Math.min(Math.floor(progress / (duration * 1000) * end), end);

                            contadorElement.textContent = value;

                            if (progress < duration * 1000) {
                                window.requestAnimationFrame(step);
                            }
                        };

                        window.requestAnimationFrame(step);
                    }
                }

                window.addEventListener('scroll', animarContador);
            ");
    }


    // Passar o valor e o elemento de destino
    //await runtime.InvokeVoidAsync("CreateOdometer", ".empresas", 50);
    //await runtime.InvokeVoidAsync("CreateOdometer", ".anos-exp", 15);
    // StateHasChanged();

    //qnd a gnt invoca o interop do js, o primeiro parametro q é passado é o nome da funcao e o segundo é o parametro em si
    //await runtime.InvokeVoidAsync("observeElement", "right");

    private async Task Navegar()
    {
        var user = await state.GetAuthenticationStateAsync();
        if (user.User.Identity.IsAuthenticated)
        {
            navigation.NavigateTo("/caixa");
        }
        else
        {
            navigation.NavigateTo("/Account/Login");
        }
    }
}


